{% extends "base.html" %}

{% block title %}{{ m("protests") }}{% endblock %}

{% block content %}
    <a href="/protests/add">
        <button type="button">{{ m("add_protest") }}</button>
    </a>

    <form method="get" action="/protests">
        <label for="town">{{ m("town") }}:</label>
        <input type="text" id="town" name="town"><br>

        <label for="date_from">{{ m("date_from") }}:</label>
        <input type="date" id="date_from" name="date_from"><br>

        <label for="tags">{{ m("tags") }}:</label>
        <select id="tags" name="tags" multiple>
            {% for tag in tags %}
            <option value="{{ tag }}">{{ tag }}</option>
            {% endfor %}
        </select><br>

        <label for="created_by">{{ m("created_by") }}:</label>
        <input type="text" id="created_by" name="created_by"><br>

        <button type="submit">{{ m("search") }}</button>
    </form>

    <section class="box-border bg-green-400">
        {% for protest in protests %}
        <aside>
            <h2>
                <a href="/protests/{{ protest.id }}/edit">{{ protest.title }}</a>
            </h2>
            <p>{{ protest.description }}</p>
            <ul>
                {% for tag in protest.tags %}
                <li>{{ tag }}</li>
                {% endfor %}
            </ul>
            <div>
                {{m("date")}}:<strong> {{ protest.date }}</strong><br>
                {{m("time")}}:<strong>{{ protest.time }}</strong><br>
                {{m("location")}}:<strong>{{ protest.town.clone().unwrap_or("".to_string()) }}, {{ protest.region.clone().unwrap_or("".to_string()) }}, {{ protest.location }}</strong>
            </div>
        </aside>
        {% endfor %}
    </section>
{% endblock %}
